var ams=function(){var a=window.location.hostname,e=this;this.init=function(){},this.eventSelectTemplate=function(){$(".custom-select").on("change",function(e){var s=$("#"+e.target.id).val(),i=$(e.target).parent().parent().parent().parent().find(".fr-wrapper").find(".fr-element");if("mini evento"==s)if("localhost"==a)var t='<div id="header-event-fr" class="header-event main-event"> <div class="header-container"> <div class="header-txt"> <h1 class="txt">Título</h1> <img class="brush" src="/cadizturismo/storage/app/media/uploaded-files/templates/brush-header.svg" alt=""> <div class="send-info"> <div class="button-send-info"> <a href="#">Descarga el programa</a> </div> </div> </div> </div> <!-- NUEVA FOTO --> <img class="background-image" value="cover" src="/cadizturismo/storage/app/media/uploaded-files/templates/caballos.jpg" alt=""> </div> <div id="phantom-div"></div> <!-- SECTION TXT--> <div class="section-txt"> <div class="txt-container"> <p class="title">TITULAR</p> <p class="desc">Escribe aquí el contenido a desarrollar y agrega una imagen adicional si lo necesitas.</p> <span class="download">Descargar el cartel del evento <img src="/cadizturismo/storage/app/media/uploaded-files/templates/yellow-arrow.svg"> </span> <img class="cartel" src="/cadizturismo/storage/app/media/uploaded-files/templates/cartel-caballos.jpg"> </div> </div><p class="mock-insert">Inserta aquí una nueva sección<br></p> <!-- SECTION IMG --> <div class="section-img"> <img src="/cadizturismo/storage/app/media/uploaded-files/templates/jornadas-micologicas2.jpg" alt=""> </div>';else var t='<div id="header-event-fr" class="header-event main-event"> <div class="header-container"> <div class="header-txt"> <h1 class="txt">Título</h1> <img class="brush" src="/storage/app/media/uploaded-files/templates/brush-header.svg" alt=""> <div class="send-info"> <div class="button-send-info"> <a href="#">Descarga el programa</a> </div> </div> </div> </div> <!-- NUEVA FOTO --> <img class="background-image" value="cover" src="/storage/app/media/uploaded-files/templates/caballos.jpg" alt=""> </div> <div id="phantom-div"></div> <!-- SECTION TXT--> <div class="section-txt"> <div class="txt-container"> <h3 class="title">TITULAR</h3> <p class="desc">Escribe aquí el contenido a desarrollar y agrega una imagen adicional si lo necesitas. </p><span class="download">Ver cartel del evento <img src="/storage/app/media/uploaded-files/templates/yellow-arrow.svg"> </span> <img class="cartel" src="/storage/app/media/uploaded-files/templates/cartel-caballos.jpg"> </div> </div><p class="mock-insert">Inserta aquí una nueva sección<br></p><!-- SECTION IMG --> <div class="section-img"> <img src="/storage/app/media/uploaded-files/templates/jornadas-micologicas2.jpg" alt=""> </div>';else if("maxi evento"==s)if("localhost"==a)var t='<!-- HEADER --> <div id="header-event-fr" class="header-event main-event"> <div class="header-container"> <div class="header-txt"> <h1 class="txt">Título</h1> <img class="brush" src="/cadizturismo/storage/app/media/uploaded-files/templates/brush-header.svg" alt=""> <div class="send-info"> <div class="button-send-info"> <a href="#">Descarga el programa</a> </div> </div> </div> </div> <!-- NUEVA FOTO --> <img class="background-image" value="cover" src="/storage/app/media/uploaded-files/templates/caballos.jpg" alt=""> </div> <div id="phantom-div"></div> <!-- SECTION TXT--> <div class="section-txt"> <div class="big-number-container"> <span class="step">1</span> </div> <div class="txt-container"> <p class="title">TITULAR</p> <p class="desc">Escribe aquí el contenido a desarrollar y agrega una imagen adicional si lo necesitas. </p></div> </div> <!-- SECTION IMG --> <div class="section-img"> <img src="/cadizturismo/storage/app/media/uploaded-files/templates/caballos2.jpg" alt=""> </div> <div class="section-txt"> <div class="big-number-container"> <span class="step">2</span> </div> <div class="txt-container"> <p class="title">TITULAR 2</p> <p class="desc">Escribe aquí el contenido a desarrollar y agrega una imagen adicional si lo necesitas.</p></div> </div> <div class="section-img"> <img src="/cadizturismo/storage/app/media/uploaded-files/templates/caballos3.jpg" alt=""> </div> <div class="section-txt"> <div class="big-number-container"> <span class="step">3</span> </div> <div class="txt-container"> <p class="title">TITULAR 3</p> <p class="desc">Escribe aquí el contenido a desarrollar y agrega una imagen adicional si lo necesitas. </p></div> </div> <div class="section-img"> <img src="/cadizturismo/storage/app/media/uploaded-files/templates/caballos4.jpg" alt=""> </div> <div class="section-txt"> <div class="big-number-container"> <span class="step">4</span> </div> <div class="txt-container"> <p class="title">TITULAR 4</p> <p class="desc">Escribe aquí el contenido a desarrollar y agrega una imagen adicional si lo necesitas.</p> <span class="download">Descargar el cartel del evento <img src="/cadizturismo/storage/app/media/uploaded-files/templates/yellow-arrow.svg"> </span> <img class="cartel" src="/cadizturismo/storage/app/media/uploaded-files/templates/cartel-caballos.jpg"> </div> </div> <div class="section-img"> <img src="/cadizturismo/storage/app/media/uploaded-files/templates/caballos5.jpg" alt=""> </div> <div class="icons-row"> <div class="i-container"> <div class="also-feature"> <img src="/cadizturismo/storage/app/media/uploaded-files/templates/deporte-grey.svg"> <p class="also-desc">Deporte</p> </div> <div class="also-feature"> <img src="/cadizturismo/storage/app/media/uploaded-files/templates/ocio-grey.svg"> <p class="also-desc">Ocio</p> </div> <div class="also-feature"> <img src="/cadizturismo/storage/app/media/uploaded-files/templates/cultura-grey.svg"> <p class="also-desc">Cultura</p> </div> </div> </div>';else var t='<!-- HEADER --> <div id="header-event-fr" class="header-event main-event"> <div class="header-container"> <div class="header-txt"> <h1 class="txt">Título</h1> <img class="brush" src="/storage/app/media/uploaded-files/templates/brush-header.svg" alt=""> <div class="send-info"> <div class="button-send-info"> <a href="#">Descarga el programa</a> </div> </div> </div> </div> <!-- NUEVA FOTO --> <img class="background-image" value="cover" src="/storage/app/media/uploaded-files/templates/caballos.jpg" alt=""> </div> <div id="phantom-div"></div> <!-- SECTION TXT--> <div class="section-txt"> <div class="big-number-container"> <span class="step">1</span> </div> <div class="txt-container"> <h3 class="title">TITULAR</h3> <p class="desc">Escribe aquí el contenido a desarrollar y agrega una imagen adicional si lo necesitas. </p> </div> </div><p class="mock-insert">Inserta aquí una nueva sección<br></p> <!-- SECTION IMG --> <div class="section-img"> <img src="/storage/app/media/uploaded-files/templates/caballos2.jpg" alt=""> </div> <p class="mock-insert">Inserta aquí una nueva sección<br></p><div class="section-txt"> <div class="big-number-container"> <span class="step">2</span> </div> <div class="txt-container"> <h3 class="title">TITULAR 2</h3> <p class="desc">Escribe aquí el contenido a desarrollar y agrega una imagen adicional si lo necesitas. </p> </div> </div> <p class="mock-insert">Inserta aquí una nueva sección<br></p><div class="section-img"> <img src="/storage/app/media/uploaded-files/templates/caballos3.jpg" alt=""> </div> <p class="mock-insert">Inserta aquí una nueva sección<br></p><div class="section-txt"> <div class="big-number-container"> <span class="step">3</span> </div> <div class="txt-container"> <h3 class="title">TITULAR 3</h3> <p class="desc">Escribe aquí el contenido a desarrollar y agrega una imagen adicional si lo necesitas. </p> <!-- VIDEO YOUTUBE <iframe src="https://www.youtube.com/embed/C3mJHcRWRSM" frameborder="0" gesture="media" allow="encrypted-media" allowfullscreen></iframe> --></div> </div><p class="mock-insert">Inserta aquí una nueva sección<br></p> <div class="section-img"> <img src="/storage/app/media/uploaded-files/templates/caballos4.jpg" alt=""> </div> <p class="mock-insert">Inserta aquí una nueva sección<br></p><div class="section-txt"> <div class="big-number-container"> <span class="step">4</span> </div> <div class="txt-container"> <h3 class="title">TITULAR 4</h3> <p class="desc">Escribe aquí el contenido a desarrollar y agrega una imagen adicional si lo necesitas.</p><span class="download">Ver cartel del evento <img src="/storage/app/media/uploaded-files/templates/yellow-arrow.svg"> </span> <img class="cartel" src="/storage/app/media/uploaded-files/templates/cartel-caballos.jpg"> </div> </div> <p class="mock-insert">Inserta aquí una nueva sección<br></p><div class="section-img"> <img src="/storage/app/media/uploaded-files/templates/caballos5.jpg" alt=""> </div> <div class="icons-row"> <div class="i-container"> <div class="also-feature"> <img src="/storage/app/media/uploaded-files/templates/deporte-grey.svg"> <p class="also-desc">Deporte</p> </div> <div class="also-feature"> <img src="/storage/app/media/uploaded-files/templates/ocio-grey.svg"> <p class="also-desc">Ocio</p> </div> <div class="also-feature"> <img src="/storage/app/media/uploaded-files/templates/cultura-grey.svg"> <p class="also-desc">Cultura</p> </div> </div> </div>';"<p><br></p>"!=i.html()&&"<p></p>"!=i.html()&&""!=i.html()||$(i).html(t)})},this.multilingualGetWysiwygElements=function(a){var e=$(a.target),s=e[0].dataset.switchLocale,i,t;"es"!=s&&void 0!==i&&null!==i||(t=$(a.target).parent().parent().parent().parent().parent().parent(),i=$(t).find("textarea").prev().find(".fr-wrapper").html());var l=$(t).find("textarea").prev().find(".fr-wrapper").find(".fr-element");return l.length<1&&(i=$(a.target).parent().parent().parent().parent().parent().find('textarea[name="markup"]').text(),l=$(t).children().children().children().prev().find(".fr-wrapper").find(".fr-element")),[i,l]},this.multilingualInsertTemplate=function(a,e){"<p><br></p>"!=e.html()&&"<p></p>"!=e.html()&&""!=e.html()||e.html(a)},this.pasteHtmlAtCaret=function(a){console.log("entra");var e,s;if(window.getSelection){if(console.log("entra2"),e=window.getSelection(),e.getRangeAt&&e.rangeCount){s=e.getRangeAt(0),s.deleteContents(),console.log(s);var i=document.createElement("div");i.innerHTML=a;for(var t=document.createDocumentFragment(),l,c;l=i.firstChild;)c=t.appendChild(l);s.insertNode(t),c&&(console.log("lastNode"),console.log(c),s=s.cloneRange(),s.setStartAfter(c),s.collapse(!0),e.removeAllRanges(),e.addRange(s))}}else document.selection&&"Control"!=document.selection.type&&document.selection.createRange().pasteHTML(a)},this.createButtonsWysiwyg=function(){var a=$(".fr-toolbar");a.append('<span class="custom-wysiwyg" id="titleDesc"> <img src="/storage/app/media/uploaded-files/templates/parrafo.svg"/></span>'),a.append('<span class="custom-wysiwyg" id="destacado"> <img src="/storage/app/media/uploaded-files/templates/destacado.svg"/></span>'),a.append('<span class="custom-wysiwyg" id="fullImage"> <img src="/storage/app/media/uploaded-files/templates/destacado.svg"/></span>'),a.append('<span class="custom-wysiwyg" id="threeImages"> <img src="/storage/app/media/uploaded-files/templates/galeriatres.svg"/></span>'),a.append('<span class="custom-wysiwyg" id="twoImages"> <img src="/storage/app/media/uploaded-files/templates/galeriados.svg"/></span>'),a.append('<span class="custom-wysiwyg" id="numberSection"> <img src="/storage/app/media/uploaded-files/templates/parrafonumerado.svg"/></span>'),a.append('<span class="custom-wysiwyg" id="moreInfo"> <img src="/storage/app/media/uploaded-files/templates/masinfo.svg"/></span>'),a.append('<span class="custom-wysiwyg" id="locations"> <img src="/storage/app/media/uploaded-files/templates/ubicacion.svg"/></span>'),$("#titleDesc").on("click",function(){e.pasteHtmlAtCaret('<div class="section-txt-village"><div class="txt-container"><h3 class="title">TITULAR</h3><img class="separator fr-fic fr-dii" src="***_preurl_***/storage/app/media/uploaded-files/templates/big-yellow-separator.svg"><p class="desc">Escribe aquí el contenido a desarrollar y agrega una imagen adicional si lo necesitas.</p></div></div>')}),$("#destacado").on("click",function(){e.pasteHtmlAtCaret('<div class="img-village"><div class="txt-container"><p class="title">Título del destacado</p><p class="desc">Puedes destacar una ruta, una playa o un evento. Escribe una breve descripción sobre el enlace que vas a sugerir.</p><a class="events-link" href="rutas.html">Conocer <img src="***_preurl_***/storage/app/media/uploaded-files/templates/link-arrow-yellow.svg" alt="" class="fr-fic fr-dii">&nbsp;</a><img class="separator fr-fic fr-dii" src="***_preurl_***/storage/app/media/uploaded-files/templates/big-yellow-separator.svg"></div><img class="img-destacada" src="***_preurl_***/storage/app/media/uploaded-files/templates/marismas-barbate.jpg" alt=""></div>')}),$("#fullImage").on("click",function(){e.pasteHtmlAtCaret('<div class="section-img"><img src="***_preurl_***/storage/app/media/uploaded-files/templates/caballos2.jpg" alt=""></div>')}),$("#threeImages").on("click",function(){e.pasteHtmlAtCaret('<div class="all-exps"><div class="all-events-container"><div class="event"><div class="overlay-img"><br></div><img class="rec-img fr-fic fr-dii" src="***_preurl_***/storage/app/media/uploaded-files/templates/atun.jpg"></div><div class="event"><div class="overlay-img"><br></div><img class="rec-img fr-fic fr-dii" src="***_preurl_***/storage/app/media/uploaded-files/templates/faro.jpg"></div><div class="event"><div class="overlay-img"><br></div><img class="rec-img fr-fic fr-dii" src="***_preurl_***/storage/app/media/uploaded-files/templates/brena.jpg"></div></div></div>')}),$("#twoImages").on("click",function(){e.pasteHtmlAtCaret('<div class="all-events"><div class="all-events-container"><div class="event"><div class="overlay-img"><br></div><img class="rec-img fr-fic fr-dii" src="***_preurl_***/storage/app/media/uploaded-files/templates/barbate1.jpg"></div><div class="event"><div class="overlay-img"><br></div><img class="rec-img fr-fic fr-dii" src="***_preurl_***/storage/app/media/uploaded-files/shutterstock_398451547.jpg"></div></div></div>')}),$("#numberSection").on("click",function(){e.pasteHtmlAtCaret('<div class="section-txt"><div class="big-number-container"><span class="step">1</span></div><div class="txt-container"><p class="title">TITULAR 1</p><p class="desc">Escribe aquí el contenido a desarrollar y agrega una imagen adicional si lo necesitas.</p></div></div>')}),$("#moreInfo").on("click",function(){e.pasteHtmlAtCaret('<div class="section-txt"><div class="txt-container"><h3>¿más info?</h3><img src="http://cadizturismo.jekyllme.com/storage/app/media/uploaded-files/templates/big-yellow-separator.svg" class="fr-fic fr-dii"><p><a href="#" rel="noopener noreferrer" target="_blank">Enlace 1</a></p><p><a href="#" rel="noopener noreferrer" target="_blank">Enlace 2</a></p></div></div>')}),$("#locations").on("click",function(){e.pasteHtmlAtCaret('<div class="section-txt"><div class="txt-container"><div class="municipios"><div class="municipio"><img src="***_preurl_***/storage/app/media/uploaded-files/templates/location-municipio.svg" class="fr-fil fr-dib"><a href="#" target="_blank"><p class="municipio-txt">Ubicación 1</p></a></div><div class="municipio"><img src="***_preurl_***/storage/app/media/uploaded-files/templates/location-municipio.svg" class="fr-fil fr-dib"><a href="#" target="_blank"><p class="municipio-txt">Ubicación 2</p></a></div><div class="municipio"><img src="***_preurl_***/storage/app/media/uploaded-files/templates/location-municipio.svg" class="fr-fil fr-dib"><a href="#" target="_blank"><p class="municipio-txt">Ubicación 3</p></a></div></div></div></div>')})}};